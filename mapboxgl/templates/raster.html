{% extends "layer.html" %}

{% block extra_javascript %}

    sourceId = "raster-tiles{{ layerId }}";
    layerId = "rater-layer{{ layerId }}";

    map.on('style.load', function() {
        let params = {
            "type": "raster",
            "tiles": [
                 "{{ tiles_url }}"
            ],
            "tileSize": {{ tiles_size }},
            "minzoom": {{ tiles_minzoom }},
            "maxzoom": {{ tiles_maxzoom }}
        }
        if ({{ tiles_bounds }} !== undefined) params.bounds = {{ tiles_bounds }};

        map.addSource(sourceId, params);

        map.addLayer({
            "id": layerId,
            "type": "raster",
            "source": sourceId,
        }, "{{belowLayer}}" );

    });

{% endblock extra_javascript %}
